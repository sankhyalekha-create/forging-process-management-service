# Common Application Properties
spring.application.name=forging-process-management-service

# Server Configuration
# server.port = 8080
#server.servlet.context-path=/forging/api/v1

# Frontend URL Configuration
FRONTEND_URL=http://localhost:3000

# Actuator endpoint configuration
management.endpoints.web.exposure.include=health,info,beans,env,loggers,metrics,httptrace
management.endpoint.health.show-details=always

# Cache Configuration
spring.cache.type=caffeine
spring.cache.cache-names=tenants, forgingLines, suppliers, items, products
spring.cache.caffeine.spec=maximumSize=500,expireAfterWrite=15m
caffeine.cache.name=forging-process-management-service-cache

# Default Profile
spring.profiles.active=test

logging.file.name=fopmas.log
logging.file.path=/home/fopmas/fopmasLogs

# Document Management Configuration
# For development - use project directory
fopmas.documents.storage.base-path=${user.home}/fopmas-documents
# For production, use: /var/fopmas/documents
fopmas.documents.upload.max-file-size=10485760
fopmas.documents.upload.max-request-size=20971520
fopmas.documents.upload.allowed-types=pdf,doc,docx,xls,xlsx,jpg,jpeg,png,gif,svg

# Document Compression Configuration
fopmas.documents.compression.enabled=true
fopmas.documents.compression.min-file-size=1024
fopmas.documents.compression.excluded-types=image/jpeg,image/png,image/gif,video/,audio/

# Spring Boot file upload configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=20MB
spring.servlet.multipart.enabled=true

# RestTemplate Configuration
spring.rest.template.connection-timeout=30000
spring.rest.template.read-timeout=30000

# E-Way Bill GSP Configuration
app.eway-bill.gsp.enabled=true
app.eway-bill.gsp.timeout=30000
app.eway-bill.gsp.retry-attempts=3
app.eway-bill.gsp.token-buffer-minutes=30

# TaxPro GSP API URLs (v1.03)
# Configure the URLs based on your environment (Sandbox or Production)
# For Sandbox, use: https://gstsandbox.charteredinfo.com/ewaybillapi/dec/v1.03
# For Production, use: https://einvapi.charteredinfo.com/v1.03/dec
app.eway-bill.gsp.auth-url=https://gstsandbox.charteredinfo.com/ewaybillapi/dec/v1.03/auth
app.eway-bill.gsp.ewb-url=https://gstsandbox.charteredinfo.com/ewaybillapi/dec/v1.03/ewayapi
app.eway-bill.gsp.print-url=https://einvapi.charteredinfo.com/aspapi/v1.0/printewb

# NOTE: ASP credentials (aspid and asppassword) are now stored in the database
# per tenant in the tenant_eway_bill_credentials table for better security

# TaxPro GSP Backup Server URLs (for Production failover - DNS round-robin)
# Backup 1: https://einvapimum1.charteredinfo.com/v1.03/dec
# Backup 2: https://einvapidel2.charteredinfo.com/v1.03/dec
app.eway-bill.gsp.backup1-auth-url=
app.eway-bill.gsp.backup1-ewb-url=
app.eway-bill.gsp.backup1-print-url=
app.eway-bill.gsp.backup2-auth-url=
app.eway-bill.gsp.backup2-ewb-url=
app.eway-bill.gsp.backup2-print-url=

# E-Invoice GSP Configuration
app.einvoice.gsp.enabled=true
app.einvoice.gsp.timeout=30000
app.einvoice.gsp.retry-attempts=3
app.einvoice.gsp.token-buffer-minutes=30

# TaxPro GSP E-Invoice API URLs (v1.03/v1.04)
# Configure the URLs based on your environment (Sandbox or Production)
# For Sandbox/Testing, use: https://einvapi.charteredinfo.com (sandbox)
# For Production, use: https://einvapi.charteredinfo.com (live)
app.einvoice.gsp.auth-url=https://gstsandbox.charteredinfo.com/eivital/dec/v1.04/auth
app.einvoice.gsp.generate-url=https://gstsandbox.charteredinfo.com/eicore/dec/v1.03/Invoice
app.einvoice.gsp.irn-url=https://gstsandbox.charteredinfo.com/eicore/dec/v1.03/Invoice/irn
app.einvoice.gsp.ewb-by-irn-url=https://gstsandbox.charteredinfo.com/eiewb/dec/v1.03/ewaybill
app.einvoice.gsp.cancel-url=https://gstsandbox.charteredinfo.com/eicore/dec/v1.03/Invoice/Cancel

# NOTE: ASP credentials (aspid and asppassword) are now stored in the database
# per tenant in the tenant_einvoice_credentials table for better security

# TaxPro GSP E-Invoice Backup Server URLs (for Production failover)
app.einvoice.gsp.backup1-auth-url=
app.einvoice.gsp.backup1-generate-url=
app.einvoice.gsp.backup1-irn-url=
app.einvoice.gsp.backup1-ewb-by-irn-url=
app.einvoice.gsp.backup1-cancel-url=
app.einvoice.gsp.backup2-auth-url=
app.einvoice.gsp.backup2-generate-url=
app.einvoice.gsp.backup2-irn-url=
app.einvoice.gsp.backup2-ewb-by-irn-url=
app.einvoice.gsp.backup2-cancel-url=

# Security Configuration
app.security.encryption.algorithm=AES
# IMPORTANT: Master encryption key must be set as environment variable
# Set: export APP_SECURITY_ENCRYPTION_MASTER_KEY="your-secure-key-here"
# This key is used to encrypt/decrypt sensitive data (ASP passwords, etc.) in the database
# NEVER commit this key to version control!

