# Production Environment Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.database=postgresql
spring.datasource.url=jdbc:postgresql://${DB_URL}:5432/forgingdb
spring.datasource.username=${DB_ADMIN_USER}
spring.datasource.password=${DB_ADMIN_PWD}
spring.datasource.driver-class-name=org.postgresql.Driver

#frontend url
frontend.url=http://www.fopmas.com

# Logging
logging.level.root=INFO
logging.level.org.springframework=WARN
logging.level.com.fopmas=INFO

# File Logging Configuration (Production)
# Logs will be written to /var/log/fopmas/fopmas-app.log
logging.file.name=fopmas.log
logging.file.path=/home/fopmas/fopmasLogs

# Server
server.port=8098

# Document Management Configuration

fopmas.documents.storage.base-path=/var/fopmas/documents
fopmas.documents.upload.max-file-size=10485760
fopmas.documents.upload.max-request-size=20971520
fopmas.documents.upload.allowed-types=pdf,doc,docx,xls,xlsx,jpg,jpeg,png,gif,svg

# Document Compression Configuration
fopmas.documents.compression.enabled=true
fopmas.documents.compression.min-file-size=1024
fopmas.documents.compression.excluded-types=image/jpeg,image/png,image/gif,video/,audio/

# Spring Boot file upload configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=20MB
spring.servlet.multipart.enabled=true

# Security
#spring.security.user.name=${APP_USERNAME}
#spring.security.user.password=${APP_PASSWORD}

# RestTemplate Configuration
spring.rest.template.connection-timeout=60000
spring.rest.template.read-timeout=60000

# TaxPro GSP API Configuration (Production Environment)
# Auth API: GET https://einvapi.charteredinfo.com/v1.03/dec/auth
# EWB API: POST https://einvapi.charteredinfo.com/v1.03/dec/ewayapi
app.eway-bill.gsp.auth-url=https://einvapi.charteredinfo.com/v1.03/dec/auth
app.eway-bill.gsp.ewb-url=https://einvapi.charteredinfo.com/v1.03/dec/ewayapi
app.eway-bill.gsp.enabled=true
app.eway-bill.gsp.timeout=60000
app.eway-bill.gsp.retry-attempts=5
app.eway-bill.gsp.token-buffer-minutes=30
# Session token expiry in hours (6 hours for production)
app.eway-bill.gsp.session-timeout-hours=6

# TaxPro GSP Backup URLs (DNS round-robin for failover)
# Backup 1: https://einvapimum1.charteredinfo.com/v1.03/dec (Mumbai)
# Backup 2: https://einvapidel2.charteredinfo.com/v1.03/dec (Delhi)
app.eway-bill.gsp.backup1-auth-url=https://einvapimum1.charteredinfo.com/v1.03/dec/auth
app.eway-bill.gsp.backup1-ewb-url=https://einvapimum1.charteredinfo.com/v1.03/dec/ewayapi
app.eway-bill.gsp.backup1-print-url=https://einvapimum1.charteredinfo.com/aspapi/v1.0/printewb
app.eway-bill.gsp.backup2-auth-url=https://einvapidel2.charteredinfo.com/v1.03/dec/auth
app.eway-bill.gsp.backup2-ewb-url=https://einvapidel2.charteredinfo.com/v1.03/dec/ewayapi
app.eway-bill.gsp.backup2-print-url=https://einvapidel2.charteredinfo.com/aspapi/v1.0/printewb

# NOTE: Production ASP credentials must be obtained from TaxPro GSP
# Store encrypted credentials in tenant_eway_bill_credentials table

# TaxPro GSP E-Invoice API Configuration (Production Environment)
# Auth API: GET https://einvapi.charteredinfo.com/eivital/dec/v1.04/auth
# Generate Invoice API: POST https://einvapi.charteredinfo.com/eicore/dec/v1.03/Invoice
# Get IRN API: GET https://einvapi.charteredinfo.com/eicore/dec/v1.03/Invoice/irn/{irn}
# Generate EWB by IRN API: POST https://einvapi.charteredinfo.com/eiewb/dec/v1.03/ewaybill
app.einvoice.gsp.auth-url=https://einvapi.charteredinfo.com/eivital/dec/v1.04/auth
app.einvoice.gsp.generate-url=https://einvapi.charteredinfo.com/eicore/dec/v1.03/Invoice
app.einvoice.gsp.irn-url=https://einvapi.charteredinfo.com/eicore/dec/v1.03/Invoice/irn
app.einvoice.gsp.ewb-by-irn-url=https://einvapi.charteredinfo.com/eiewb/dec/v1.03/ewaybill
app.einvoice.gsp.cancel-url=https://einvapi.charteredinfo.com/eicore/dec/v1.03/Invoice/Cancel
app.einvoice.gsp.enabled=true
app.einvoice.gsp.timeout=60000
app.einvoice.gsp.retry-attempts=5
app.einvoice.gsp.token-buffer-minutes=30

# TaxPro GSP E-Invoice Backup URLs (for failover)
# Backup 1: https://einvapimum1.charteredinfo.com (Mumbai)
# Backup 2: https://einvapidel2.charteredinfo.com (Delhi)
app.einvoice.gsp.backup1-auth-url=https://einvapimum1.charteredinfo.com/eivital/dec/v1.04/auth
app.einvoice.gsp.backup1-generate-url=https://einvapimum1.charteredinfo.com/eicore/dec/v1.03/Invoice
app.einvoice.gsp.backup1-irn-url=https://einvapimum1.charteredinfo.com/eicore/dec/v1.03/Invoice/irn
app.einvoice.gsp.backup1-ewb-by-irn-url=https://einvapimum1.charteredinfo.com/eiewb/dec/v1.03/ewaybill
app.einvoice.gsp.backup1-cancel-url=https://einvapimum1.charteredinfo.com/eicore/dec/v1.03/Invoice/Cancel
app.einvoice.gsp.backup2-auth-url=https://einvapidel2.charteredinfo.com/eivital/dec/v1.04/auth
app.einvoice.gsp.backup2-generate-url=https://einvapidel2.charteredinfo.com/eicore/dec/v1.03/Invoice
app.einvoice.gsp.backup2-irn-url=https://einvapidel2.charteredinfo.com/eicore/dec/v1.03/Invoice/irn
app.einvoice.gsp.backup2-ewb-by-irn-url=https://einvapidel2.charteredinfo.com/eiewb/dec/v1.03/ewaybill
app.einvoice.gsp.backup2-cancel-url=https://einvapidel2.charteredinfo.com/eicore/dec/v1.03/Invoice/Cancel

# Security - Encryption Configuration
app.security.encryption.algorithm=AES
# CRITICAL: Master key MUST be set as environment variable in production
# Set in systemd service file or deployment configuration:
# Environment="APP_SECURITY_ENCRYPTION_MASTER_KEY=your-production-master-key"
# NEVER commit production keys to version control!
# This key encrypts ASP passwords and other sensitive data in the database