spring.application.name=forging-process-management-service
server.port=8098

spring.jpa.database=postgresql
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:9432/forgingdb}
spring.datasource.username=${DB_ADMIN_USER:user}
spring.datasource.password=${DB_ADMIN_PWD:secret0987}
spring.datasource.driver-class-name=org.postgresql.Driver

#frontend url
frontend.url=${FRONTEND_URL}

# Document Management Configuration (Development)
fopmas.documents.storage.base-path=${user.home}/fopmas-documents
fopmas.documents.upload.max-file-size=10485760
fopmas.documents.upload.max-request-size=20971520
fopmas.documents.upload.allowed-types=pdf,doc,docx,xls,xlsx,jpg,jpeg,png,gif,svg

# Document Compression Configuration
fopmas.documents.compression.enabled=true
fopmas.documents.compression.min-file-size=1024
fopmas.documents.compression.excluded-types=image/jpeg,image/png,image/gif,video/,audio/

# Spring Boot file upload configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=20MB
spring.servlet.multipart.enabled=true

# RestTemplate Configuration
spring.rest.template.connection-timeout=30000
spring.rest.template.read-timeout=30000

# E-Way Bill GSP Configuration
app.eway-bill.gsp.enabled=true
app.eway-bill.gsp.timeout=30000
app.eway-bill.gsp.retry-attempts=3
app.eway-bill.gsp.token-buffer-minutes=30
# Session token expiry in hours (default: 1 hour for development, 6 hours for production)
app.eway-bill.gsp.session-timeout-hours=1

# TaxPro GSP E-Way Bill Server Configuration
# Users can select which server to use from the frontend
# Configure multiple servers for different environments and regions

# Primary Server (Sandbox/Testing)
app.eway-bill.gsp.servers.primary.id=primary
app.eway-bill.gsp.servers.primary.name=Primary
app.eway-bill.gsp.servers.primary.description=TaxPro GSP Sandbox Server (Testing)
app.eway-bill.gsp.servers.primary.auth-url=https://gstsandbox.charteredinfo.com/ewaybillapi/dec/v1.03/auth
app.eway-bill.gsp.servers.primary.ewb-url=https://gstsandbox.charteredinfo.com/ewaybillapi/dec/v1.03/ewayapi
app.eway-bill.gsp.servers.primary.print-url=https://einvapi.charteredinfo.com/aspapi/v1.0/printewb

# Backup Server 1 (Production - Mumbai)
app.eway-bill.gsp.servers.backup1.id=backup1-mumbai
app.eway-bill.gsp.servers.backup1.name=Backup 1 - Mumbai
app.eway-bill.gsp.servers.backup1.description=TaxPro GSP Production Server (Mumbai Region)
app.eway-bill.gsp.servers.backup1.auth-url=https://gstsandbox.charteredinfo.com/ewaybillapi/dec/v1.03/auth
app.eway-bill.gsp.servers.backup1.ewb-url=https://gstsandbox.charteredinfo.com/ewaybillapi/dec/v1.03/ewayapi
app.eway-bill.gsp.servers.backup1.print-url=https://einvapi.charteredinfo.com/aspapi/v1.0/printewb

# Backup Server 2 (Production - Delhi)
app.eway-bill.gsp.servers.backup2.id=backup2-delhi
app.eway-bill.gsp.servers.backup2.name=Backup 2 - Delhi
app.eway-bill.gsp.servers.backup2.description=TaxPro GSP Production Server (Delhi Region)
app.eway-bill.gsp.servers.backup2.auth-url=https://gstsandbox.charteredinfo.com/ewaybillapi/dec/v1.03/auth
app.eway-bill.gsp.servers.backup2.ewb-url=https://gstsandbox.charteredinfo.com/ewaybillapi/dec/v1.03/ewayapi
app.eway-bill.gsp.servers.backup2.print-url=https://einvapi.charteredinfo.com/aspapi/v1.0/printewb

# NOTE: ASP credentials (aspid and asppassword) are now stored in the database
# per tenant in the tenant_eway_bill_credentials table for better security

# E-Invoice GSP Configuration
app.einvoice.gsp.enabled=true
app.einvoice.gsp.timeout=30000
app.einvoice.gsp.retry-attempts=3
app.einvoice.gsp.token-buffer-minutes=30

# TaxPro GSP E-Invoice Server Configuration
# Users can select which server to use from the frontend
# Configure multiple servers for different environments and regions

# Primary Server (Sandbox/Testing)
app.einvoice.gsp.servers.primary.id=primary
app.einvoice.gsp.servers.primary.name=Primary
app.einvoice.gsp.servers.primary.description=TaxPro GSP Sandbox Server (Testing)
app.einvoice.gsp.servers.primary.auth-url=https://gstsandbox.charteredinfo.com/eivital/dec/v1.04/auth
app.einvoice.gsp.servers.primary.generate-url=https://gstsandbox.charteredinfo.com/eicore/dec/v1.03/Invoice
app.einvoice.gsp.servers.primary.irn-url=https://gstsandbox.charteredinfo.com/eicore/dec/v1.03/Invoice/irn
app.einvoice.gsp.servers.primary.ewb-by-irn-url=https://gstsandbox.charteredinfo.com/eiewb/dec/v1.03/ewaybill
app.einvoice.gsp.servers.primary.cancel-url=https://gstsandbox.charteredinfo.com/eicore/dec/v1.03/Invoice/Cancel

# Backup Server 1 (Mumbai)
app.einvoice.gsp.servers.backup1.id=backup1-mumbai
app.einvoice.gsp.servers.backup1.name=Backup 1 - Mumbai
app.einvoice.gsp.servers.backup1.description=TaxPro GSP Server (Mumbai Region)
app.einvoice.gsp.servers.backup1.auth-url=https://gstsandbox.charteredinfo.com/eivital/dec/v1.04/auth
app.einvoice.gsp.servers.backup1.generate-url=https://gstsandbox.charteredinfo.com/eicore/dec/v1.03/Invoice
app.einvoice.gsp.servers.backup1.irn-url=https://gstsandbox.charteredinfo.com/eicore/dec/v1.03/Invoice/irn
app.einvoice.gsp.servers.backup1.ewb-by-irn-url=https://gstsandbox.charteredinfo.com/eiewb/dec/v1.03/ewaybill
app.einvoice.gsp.servers.backup1.cancel-url=https://gstsandbox.charteredinfo.com/eicore/dec/v1.03/Invoice/Cancel

# Backup Server 2 (Delhi)
app.einvoice.gsp.servers.backup2.id=backup2-delhi
app.einvoice.gsp.servers.backup2.name=Backup 2 - Delhi
app.einvoice.gsp.servers.backup2.description=TaxPro GSP Server (Delhi Region)
app.einvoice.gsp.servers.backup2.auth-url=https://gstsandbox.charteredinfo.com/eivital/dec/v1.04/auth
app.einvoice.gsp.servers.backup2.generate-url=https://gstsandbox.charteredinfo.com/eicore/dec/v1.03/Invoice
app.einvoice.gsp.servers.backup2.irn-url=https://gstsandbox.charteredinfo.com/eicore/dec/v1.03/Invoice/irn
app.einvoice.gsp.servers.backup2.ewb-by-irn-url=https://gstsandbox.charteredinfo.com/eiewb/dec/v1.03/ewaybill
app.einvoice.gsp.servers.backup2.cancel-url=https://gstsandbox.charteredinfo.com/eicore/dec/v1.03/Invoice/Cancel

# Security - Encryption Configuration
app.security.encryption.algorithm=AES
# Master key must be set as environment variable: APP_SECURITY_ENCRYPTION_MASTER_KEY
# For local development, you can set it in your IDE run configuration or terminal:
# export APP_SECURITY_ENCRYPTION_MASTER_KEY="FOPMAS_DEV_MASTER_KEY_2025"
